# 结构目录
```
桌宠项目/
├── assets/                    # 存放资源文件（例如宠物图像、声音等）
│   ├── icon.py                # icon
│   ├── pet_a/                 # 桌宠A的所有资源
│   │   ├── idle/              # 宠物A的闲置动作图像
│   │   │   ├── idle_1.png    # 闲置动作1
│   │   │   ├── idle_2.png    # 闲置动作2
│   │   ├── walking/           # 宠物A的行走动作图像
│   │   │   ├── walk_1.png    # 行走动作1
│   │   │   ├── walk_2.png    # 行走动作2
│   │   ├── a_a/               # 宠物A的特殊动作（A-A互动）
│   │   │   ├── a_a_1.png     # A-A互动动作1
│   │   │   ├── a_a_2.png     # A-A互动动作2
│   │   ├── a_b/               # 宠物A的特殊动作（A-B互动）
│   │   │   ├── a_b_1.png     # A-B互动动作1
│   │   │   ├── a_b_2.png     # A-B互动动作2
│   │   ├── sound/             # 宠物A的音效
│   │   └── animation/         # 宠物A的动画资源（例如背景动画）
│   └── pet_b/                 # 同理
├── pets/                      # 桌宠类和功能的定义
│   ├── pet_manager.py          #管理全局的宠物 
│   ├── tray_menu.py            # 菜单栏，应包含退出、召唤、允许互动范围
│   ├── base_pet.py            # 桌宠基类：提供行走、重力、拖拽、闲置功能
│   ├── interactive_pet.py     # 交互功能（如互动窗口、宠物间互动）
│   ├── animated_pet.py        # 动画功能（管理动作、切换动画、基于图片底部对齐）
│   ├── pet_a.py               # 桌宠A的实现（支持A-A和A-B互动）
│   └── pet_b.py               # 桌宠B的实现（支持B-A互动）
├── utils/                     # 工具类
│   ├── upper.py               # 上界计算，应优化为窗口输出
├── main.py                    # 启动程序，初始化桌宠并管理
├── requirements.txt           # 依赖库（如PyQt5、requests等）
├── README.md                  # 项目说明文档
```

# 使用说明
pip install配置环境后即可启动，菜单在右下角

# 打包说明

windows在确保本地可以正常编译后使用
`pyinstaller --onefile --windowed --add-data "assets;assets" --icon=assets/icon.png main.py`来获取处于`./dist/main.exe`的输出

IOS不知道、没有测试环境之后再说思密达
程序压缩和测试的事情也之后再说


# 待办


特殊功能-桌宠互动、自定义闲置状态
菜单-自定义招出桌宠等生成

打包程序与部署

优化惯性参数、针对窗口互动


直接在菜单上增加，允许互动窗口，一旦允许，那么窗口的上界将允许站立行为、攀爬行为

菜单需要-召唤宠物-随机一只、确定的某一只；窗口互动允许-具体哪些窗口可选；ai接口配置



优化upper更名为窗口选择，提供允许互动的窗口
一旦允许后，灰狗将把它作为可互动的（可站立、攀爬）

代办 基础类，提供基本交互（行走、拖拽、闲置和掉落是必须的）和坐标限制功能：处于拖拽状态时，允许走到边界一点点的位置，重力更新位置不得超过边界值，左值不得超过左边，右值不得超过右边，如果是被拖过边界的，强制回到最贴近边界的地方，
先校准输出底部
重力掉落逻辑，动态维护的全局变量窗口，移动一次则维护一次，当处于掉落状态，更新坐标，如果旧坐标和新坐标中间跨越了边界线，取新坐标为边界线的y和中间值x，并重置状态。行动时，需要检测当前y是否与任意一条边界线重合，如果不重合，开始掉落。

互动数组有作为底层，可以实时被更新的窗口，这样不用增加判断逻辑，只需增加0，1标签

延伸功能先不写，如果行走过程中触碰到边界，则进行爬行，向上或向下，相当于在整个窗口上爬

动画切换的时候应该把图片底部作为基值

特化类，从基础类继承，提供特殊动作，比如一定条件下一定概率触发的动画，比如宠物a1靠近宠物a2有概率触发动画cd，比如a1播放了杀死，a2播放了死亡，然后a2实例注销，比如隔一段时间a1有概率再召唤一只a，任意a靠近任意b有概率触发ab互动

菜单类，开启或关闭一些功能，比如提供一个高级交互全局变量flag和对应的窗口list，点击可选互动窗口，将互动窗口坐标动态地储存，并启动flag，


优先 优化参数表现、更新数组维护、增加互动触发，试着加入大小可变的宠物